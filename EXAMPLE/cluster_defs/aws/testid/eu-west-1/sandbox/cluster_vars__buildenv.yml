---

cluster_vars:
  sandbox:
    aws_access_key: !vault |
      $ANSIBLE_VAULT;1.2;AES256;sandbox
      7669080460651349243347331538721104778691266429457726036813912140404310
    aws_secret_key: !vault |
      $ANSIBLE_VAULT;1.2;AES256;sandbox
      7669080460651349243347331538721104778691266429457726036813912140404310
    ssh_connection_cfg:
      host: &host_ssh_connection_cfg
        ansible_user: "ansible"
        ansible_ssh_private_key_file: !vault |
          $ANSIBLE_VAULT;1.2;AES256;sandbox
          7669080460651349243347331538721104778691266429457726036813912140404310
      bastion:
        ssh_args: '-o ProxyCommand="ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -i ./id_rsa_bastion -W %h:%p -q user@192.168.0.1"'
        ssh_priv_key: !vault |
          $ANSIBLE_VAULT;1.2;AES256;sandbox
          7669080460651349243347331538721104778691266429457726036813912140404310
    vpc_name: "test{{buildenv}}"
    vpc_subnet_name_prefix: "{{buildenv}}-test-{{region}}"
    key_name: "test__id_rsa"
    termination_protection: "no"
    nsupdate_cfg: {server: "", key_name: "", key_secret: ""}      # If you're using bind9 (or other nsupdate-compatible 'dns_server')

    hosttype_vars:
      sys:
        auto_volumes: [ ]
        flavor: t3a.nano
        version: "{{sys_version | default('')}}"
        vms_by_az: { a: 1, b: 1, c: 0 }

      sysspot:
        auto_volumes: [ ]
        flavor: t3a.nano
        spot: { spot_price: 0.003 }     # also options:  spot_wait_timeout: 10800, spot_type: persistent
        version: "{{sys_version | default('')}}"
        vms_by_az: { a: 1, b: 1, c: 0 }

      sysdisks2:
        auto_volumes:
          - { device_name: "/dev/sda1", mountpoint: "/", fstype: "ext4", volume_type: "gp2", volume_size: 8, encrypted: True, delete_on_termination: true }
          - { device_name: "/dev/sdf", mountpoint: "/media/mysvc", fstype: "ext4", volume_type: "gp2", volume_size: 1, encrypted: True, delete_on_termination: true, perms: { owner: "root", group: "root", mode: "775" } }
          - { device_name: "/dev/sdg", mountpoint: "/media/mysvc2", fstype: "ext4", volume_type: "gp2", volume_size: 1, encrypted: True, delete_on_termination: true }
        flavor: t3a.nano
        version: "{{sysdisks_version | default('')}}"
        vms_by_az: { a: 1, b: 1, c: 0 }

      sysdiskslvm:
        auto_volumes:
          - { device_name: "/dev/sda1", mountpoint: "/", fstype: "ext4", volume_type: "gp2", volume_size: 8, encrypted: True, delete_on_termination: true }
          - { device_name: "/dev/sdf", mountpoint: "/media/mysvc", fstype: "ext4", volume_type: "gp2", volume_size: 1, encrypted: True, delete_on_termination: true }
          - { device_name: "/dev/sdg", mountpoint: "/media/mysvc", fstype: "ext4", volume_type: "gp2", volume_size: 1, encrypted: True, delete_on_termination: true }
        lvmparams: { vg_name: "vg0", lv_name: "lv0", lv_size: "100%VG" }
        flavor: t3a.nano
        version: "{{sysdisks_version | default('')}}"
        vms_by_az: { a: 1, b: 1, c: 0 }

      hostnvme-notnitro:
        auto_volumes:
          - { device_name: "/dev/sdb", mountpoint: "/media/mysvc", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral0 }
        flavor: i3.large
        version: "{{sys_version | default('')}}"
        vms_by_az: { a: 1, b: 1, c: 0 }

      hostnvme-multi:
        auto_volumes:
          - { device_name: "/dev/sda1", mountpoint: "/", fstype: "ext4", volume_type: "gp2", volume_size: 8, encrypted: True, delete_on_termination: true }
          - { device_name: "/dev/sdb", mountpoint: "/media/mysvc", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral0 }
          - { device_name: "/dev/sdc", mountpoint: "/media/mysvc2", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral1 }
          - { device_name: "/dev/sdf", mountpoint: "/media/mysvc8", fstype: "ext4", volume_type: "gp2", volume_size: 1, encrypted: True, delete_on_termination: true }
        flavor: i3en.2xlarge
        version: "{{sys_version | default('')}}"
        vms_by_az: { a: 1, b: 1, c: 0 }

      hostnvme-lvm:
        auto_volumes:
          - { device_name: "/dev/sda1", mountpoint: "/", fstype: "ext4", volume_type: "gp2", volume_size: 8, encrypted: True, delete_on_termination: true }
          - { device_name: "/dev/sdb", mountpoint: "/media/data", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral0 }
          - { device_name: "/dev/sdc", mountpoint: "/media/data", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral1 }
        lvmparams: { vg_name: "vg0", lv_name: "lv0", lv_size: "100%VG" }
        flavor: i3en.2xlarge
        version: "{{sys_version | default('')}}"
        vms_by_az: { a: 1, b: 1, c: 0 }

      hosthdd-multi:
        auto_volumes:
          - { device_name: "/dev/sdb", mountpoint: "/media/mysvc", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral0 }
          - { device_name: "/dev/sdc", mountpoint: "/media/mysvc2", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral1 }
          - { device_name: "/dev/sdd", mountpoint: "/media/mysvc3", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral2 }
        flavor: d2.xlarge
        version: "{{sys_version | default('')}}"
        vms_by_az: { a: 1, b: 1, c: 0 }

      hosthdd-lvm:
        auto_volumes:
          - { device_name: "/dev/sdb", mountpoint: "/media/data", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral0 }
          - { device_name: "/dev/sdc", mountpoint: "/media/data", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral1 }
          - { device_name: "/dev/sdd", mountpoint: "/media/data", fstype: "ext4", volume_type: "ephemeral", ephemeral: ephemeral2 }
        lvmparams: { vg_name: "vg0", lv_name: "lv0", lv_size: "100%VG" }
        flavor: d2.xlarge
        version: "{{sys_version | default('')}}"
        vms_by_az: { a: 1, b: 1, c: 0 }

_host_ssh_connection_cfg: { <<: *host_ssh_connection_cfg }
