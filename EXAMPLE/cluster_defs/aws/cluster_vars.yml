---

cluster_vars:
  dns_cloud_internal_domain: "{{region}}.compute.internal"       # The cloud-internal zone as defined by the cloud provider (e.g. GCP, AWS)
  dns_nameserver_zone: &dns_nameserver_zone ""                   # The zone that dns_server will operate on.  gcloud dns needs a trailing '.'.  Leave blank if no external DNS (use IPs only)
  dns_server: ""                    # Specify DNS server. nsupdate, route53 or clouddns.  If empty string is specified, no DNS will be added.
  route53_private_zone: no          # Only used when cluster_vars.type == 'aws'. Defaults to true if not set.
  assign_public_ip: "yes"
  inventory_ip: "public"            # 'public' or 'private', (private in case we're operating in a private LAN).  If public, 'assign_public_ip' must be 'yes'
  instance_profile_name: ""
  secgroups_existing: []
  secgroup_new:
    - proto: "tcp"
      ports: ["22"]
      cidr_ip: "0.0.0.0/0"
      rule_desc: "SSH Access"
    - proto: all
      group_name: ["{{cluster_name}}-sg"]
      rule_desc: "Access from all VMs attached to the {{ cluster_name }}-sg group"
    - proto: "tcp"
      ports: ["{{ prometheus_node_exporter_port | default(9100) }}"]
      group_name: ["{{buildenv}}-private-sg"]
      rule_desc: "Prometheus instances attached to {{buildenv}}-private-sg can access the exporter port(s)."
_dns_nameserver_zone: *dns_nameserver_zone
